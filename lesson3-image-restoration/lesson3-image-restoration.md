# 前言
这一节我们将会学习到图像的退化模型，噪声模型，以及图像的复原方法。
# 图像复原
## 图像退化模型
当我们拍出模糊照片的时候，常常会有逆光，手抖，相机受损生成噪声等等各种各样的原因，影响我们的照片质量。如果我们对其进行数学建模，将会是$$g（x,y）=h（x，y）*f（x,y）+n（x,y）$$
这里的$f（x,y）$代表着原图像，$h（x,y）$代表着退化函数（描述退化的，如拍照时手抖），$n（x,y）$为噪声，$g（x,y）$为退化后的图像。

**注意：**这里的“\*”代表的是卷积运算！！！
### 线性与空间的不变性
如果退化的过程当中为线性，并且还具备空间的不变性，我们可以将原式子进行傅里叶变换，将空间域上的卷积变化成频率域上的相乘：$$G（u,v）=H（u,v）F（u,v）+N（u,v）$$
## 噪声模型
1. **高斯噪声：**其概率密度函数服从高斯分布
$$p(z)=\frac{1}{\sqrt{2\pi\sigma^{2}}}\exp\left(-\frac{(z - \mu)^{2}}{2\sigma^{2}}\right)$$
在图像里具体表现为像素值的随机波动，波动程度由其分布均值和方差决定。
2. **椒盐噪声：**也称脉冲噪声，公式为
$$p(x)=\left\{\begin{matrix}a, & \text{ z=a}\\ b, & \text{z=b}\\1-a-b, & \text{other}\end{matrix}\right.$$
具体表现为图像中随机出现的黑白像素点，看起来就像在食物上撒了盐和胡椒般黑白颗粒的既视感。常出现在因器件问题，在采样的时候所造成。
3. **指数噪声：**噪声分布服从指数分布，用方程表示
$$p(z)=\left\{\begin{matrix}\lambda e^{-\lambda z}, & z\geq0\\ 0, & z < 0\end{matrix}\right.$$
4. **均匀噪声：**噪声分布服从均匀分布
表达式为$$p(z)=\left\{\begin{matrix}\frac{1}{b - a}, & a\leq z\leq b\\ 0, & \text{otherwise}\end{matrix}\right.$$
常出现于连续信号转变为数字信号过程当中。

**噪声参数估计：**在处理带有噪声的图片的时候，如果能够分析，识别出噪声的类型，如老照片修复的时候有椒盐噪声，我们就知道该噪声所在像素点肯定比周围的像素点灰度值大得多，就像脉冲一样的灰度值骤变，这时候我们就能通过椒盐噪声的特性，使用低通滤波器，将高频成分的噪声像素点进行滤除。
## 图像复原方法
1. **逆滤波：**

原理：基于前面的退化模型，如果已知退化函数$h（x,y）$，在没有噪声或噪声可以忽略的情况下，可以通过逆运算来恢复原始图像，即$$f(x,y)=\frac{g(x,y)}{h(x,y)}$$（频域中为$F(u,v)=\frac{G(u,v)}{H(u,v)}$）。

2. **维纳滤波：**

  原理：在最小均方误差下的最优滤波方法。构造一个滤波器，使得复原后的图像与原始图像的均方误差最小。其频域表达式为$W(u,v)=\frac{H^*(u,v)}{|H(u,v)|^2 + \frac{S_{n}(u,v)}{S_{f}(u,v)}}$，其中$H*(u,v)$是$H(u,v)$的共轭，$S_n(u,v)$和$S_f(u,v)$分别是噪声和原始图像的功率谱密度。